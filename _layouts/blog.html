<!DOCTYPE html>
<html lang="en">
{% include head.html %}

<body class="{{ page.body-class }}">
  {% include tag_manager_script.html %}
  {% include header.html %}

  <div class="main-background blog-background"></div>

  {% assign posts = paginator.posts %}
  {% assign categories = site.categories %}
  {% assign display_post_categories = site.posts | map: 'categories' | join: ',' | replace: '-', ' ' | split: ',' | uniq | sort %}
  {% assign current_page = page.url | downcase | remove: ".html" | split: '/'  %}
  {% assign post_categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}

  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      {% for post in posts limit:1 %}
      <p class="featured-post">Featured Post</p>
      <h1 class="blog-index-title">
        <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a>
      </h1>
      <p class="featured-blog-preview">{{ post.excerpt | strip_html | truncate: 100 }}</p>

      <a href="{{ site.baseurl }}{{ post.url }}" class="btn btn-lg with-right-arrow">
        Read More
      </a>

      {% endfor %}
    </div>
  </div>

  <div class="main-content-wrapper">
    <div class="main-content">
      <div class="container">
        <div class="row blog-vertical">
          <style>
            .tutorial-filter-menu .filter-btn {
              color: #979797;
              border: 1px solid #979797;
              display: inline-block;
              text-align: center;
              white-space: nowrap;
              vertical-align: middle;
              padding: 0.375rem 0.75rem;
              font-size: 1rem;
              line-height: 1.5;
              margin-bottom: 5px;
            }

            .tutorial-filter-menu .all-tag-selected {
              background-color: #979797;
              color: #ffffff;
            }

            .tutorial-filter-menu .tutorial-filter {
              cursor: pointer;
            }
          </style>
          <div class="tutorial-filter-menu">
            <div class="tutorial-filter filter-btn all-tag-selected" data-tag="all">All</div>
            <div class="tutorial-filter filter-btn filter" data-tag="Audio">Audio</div>
            <div class="tutorial-filter filter-btn filter" data-tag="Best-Practice">Best Practice</div>
            <div class="tutorial-filter filter-btn filter" data-tag="C++">C++</div>
            <div class="tutorial-filter filter-btn filter" data-tag="CUDA">CUDA</div>
            <div class="tutorial-filter filter-btn filter" data-tag="Extending-PyTorch">Extending PyTorch</div>
            <div class="tutorial-filter filter-btn filter" data-tag="FX">FX</div>
            <div class="tutorial-filter filter-btn filter" data-tag="Frontend-APIs">Frontend APIs</div>
          </div>

          ----- New Filters START ----
          <div>display_post_categories: {{ display_post_categories }}</div>
          <div>post_categories: {{ post_categories }}</div>
          <div>categories: {{ site.posts | map: 'categories' }}</div>
          <div>site.posts: {{ site.posts }}</div>
          <ul>
              <li>categories list:</li>
              {% for category in site.categories %}
                  <li>{{ category }}</li>
              {% endfor %}
          </ul>
          ----- New Filters END ----

          {% for post in posts %}
            <div class="vertical-blog-container">
              <div class="col-md-4">
                <p class="blog-date">{{ post.date | date: '%B %d, %Y' }}</p>
                <h4>
                  <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a>
                </h4>
                <p>{{ post.excerpt | remove: '<p>' | remove: '</p>' | truncate: 500}}</p>
                <img src="{{ post.image }}" class="img-fluid">
              </div>
              <a href="{{ site.baseurl }}{{ post.url }}" class="btn btn-lg with-right-arrow">
                Read More
              </a>
            </div>
          {% endfor %}
        </div>

        {% include pagination_buttons.html %}
      </div>
    </div>
  </div>

  {% include quick_start_module.html %}

  {% include footer.html %}

</body>

</html>
